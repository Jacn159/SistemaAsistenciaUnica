<div class="container-fluid vh-100 d-flex flex-column bg-purple p-0">
  <!-- Header -->
  <header
    class="bg-white text-purple py-3 px-5 d-flex justify-content-around gap-3 w-75 m-auto mt-4 rounded align-items-center"
    style="border-bottom: 3px solid #4a0072"
  >
    <img
      src="/assets/img/logo.jpg"
      alt=""
      class="img-fluid rounded"
      style="max-width: 80px"
    />
    <h2 class="text-center mb-0 fw-bolder">
      FACULTAD DE INGENIERÍA DE SISTEMAS - CONTROL DE ASISTENCIA
    </h2>
  </header>

  <!-- Main Content Area -->
  <div class="d-flex flex-grow-1 p-4">
    <!-- Sidebar -->
    <aside
    class="d-flex flex-column align-items-center bg-white text-dark p-4"
    style="border: 2px solid #4a0072; border-radius: 10px; width: 350px"
  >
    <div class="text-center mb-4">
      <img
        [src]="'/assets/img/' + imageName + '.jpg'"
        alt="Jhon Lovera"
        class="rounded-circle img-fluid mb-3"
        style="width: 150px; height: 150px; border: 3px solid #4a0072"
      />
      <h4 class="text-purple">{{ nombres }}</h4>
      <p class="text-muted">Ing. de Sistemas</p>
    </div>
    <button
      class="btn btn-purple btn-lg w-100 mb-3"
      (click)="redirectTo('/home')"
    >
      Principal
    </button>
    <button
      class="btn btn-purple btn-lg w-100 mb-3"
      (click)="redirectTo('/register')"
    >
      Registrar Asistencia
    </button>
    <button class="btn btn-purple btn-lg w-100 mb-3"  [routerLink]="['/history']">
      Historial de Asistencia
    </button>
    <button class="btn btn-purple btn-lg w-100 mb-3" (click)="redirectTo('/profile')">
      Perfil
    </button>
    <button class="btn btn-purple btn-lg w-100 mb-3" (click)="logout()">
      Cerrar Sesión
    </button>
  </aside>

    <!-- Main Content -->
    <section
    class="d-flex flex-column flex-grow-1 bg-white p-4"
    style="border-radius: 10px; border: 2px solid #4a0072; max-width: 100%;"
  >
    <!-- Título Principal -->
    <h3 class="text-purple mb-4 text-center text-md-start">Registro de Asistencia</h3>

    <!-- Información del Curso y Tiempo -->
    <div class="border border-purple p-3 mb-4">
      <!-- Botones de Curso -->
      <div class="d-flex flex-column flex-md-row justify-content-around mb-3">
        <button class="btn btn-outline-purple mb-2 mb-md-0">Curso</button>
        <button class="btn btn-outline-purple">{{ clase.courseName }}</button>
      </div>
      <!-- Información de Tiempo -->
      <div class="d-flex flex-column flex-md-row justify-content-around text-center text-md-start">
        <p class="text-purple mb-2 mb-md-0">Hora de inicio: {{ clase.startDateTime }}</p>
        <p class="text-purple mb-2 mb-md-0">Hora de fin: {{ clase.endDateTime }}</p>
        <p class="text-purple">{{ today }}</p>
      </div>
    </div>

    <!-- Sección de Estado y QR -->
    <div class="d-flex flex-column flex-md-row justify-content-center justify-content-md-between">
      <div class="border border-purple p-4 text-center flex-grow-1">
        <div class="scanner-container">
          <!-- Lector QR -->
          <div id="reader" class="qr-reader mb-3"></div>
          <!-- Botones de Control del Escáner -->
          <div class="d-flex flex-column flex-sm-row justify-content-center justify-content-md-start">
            <button
              (click)="startScanner()"
              class="btn btn-purple btn-lg w-100 w-sm-auto mb-3 mb-sm-0 me-sm-2"
            >
              Iniciar Escáner
            </button>
            <button
              (click)="stopScanner()"
              class="btn btn-purple btn-lg w-100 w-sm-auto"
            >
              Detener Escáner
            </button>
          </div>
          <!-- Resultado del Escáner (Comentado) -->
          <!-- <p *ngIf="qrResult">Resultado: {{ qrResult }}</p> -->
        </div>
      </div>
    </div>
  </section>

  </div>
</div>
